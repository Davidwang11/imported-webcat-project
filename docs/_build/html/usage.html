

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Usage &mdash; pywebcat  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing" href="contributing.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pywebcat
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#cli">CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module">Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Credits</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pywebcat</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="cli">
<h2>CLI<a class="headerlink" href="#cli" title="Permalink to this headline">¶</a></h2>
<p>A key workflow for utilising WebCAT videos is to split videos into frames for further analysis. As a result, this functionality is exposed as a CLI with the command line argument <cite>pywebcat</cite>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pywebcat --help

<span class="go">usage: webcat_utils.py [-h] -dir DIRECTORY -s STATION [STATION ...] -y YEAR</span>
<span class="go">                      [YEAR ...] -m MONTH [MONTH ...] -d DAY [DAY ...] -t</span>
<span class="go">                      TIME [TIME ...] [-i INTERVAL] [-n] [-v]</span>

<span class="go">CLI for saving frames of webCAT video(s).</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  -i INTERVAL, --interval INTERVAL</span>
<span class="go">                        Interval in seconds between video frames to save</span>
<span class="go">                        (default: 10).</span>
<span class="go">  -n, --no_meta         Don&#39;t save .csv file of metadata of saved video</span>
<span class="go">                        frames.</span>
<span class="go">  -v, --verbose         Print program status.</span>

<span class="go">required arguments:</span>
<span class="go">  -dir DIRECTORY, --directory DIRECTORY</span>
<span class="go">                        Absolute path of directory to save frames in.</span>
<span class="go">  -s STATION [STATION ...], --station STATION [STATION ...]</span>
<span class="go">                        The station name, e.g., buxtoncoastalcam.</span>
<span class="go">  -y YEAR [YEAR ...], --year YEAR [YEAR ...]</span>
<span class="go">                        The video year(s), e.g., 2019 2020.</span>
<span class="go">  -m MONTH [MONTH ...], --month MONTH [MONTH ...]</span>
<span class="go">                        The video month(s), e.g., 9 10 11.</span>
<span class="go">  -d DAY [DAY ...], --day DAY [DAY ...]</span>
<span class="go">                        The video day(s) e.g., 1 11 21.</span>
<span class="go">  -t TIME [TIME ...], --time TIME [TIME ...]</span>
<span class="go">                        The video time(s), e.g., 1000 1330 1510.</span>
</pre></div>
</div>
<p>The CLI facilitates efficiently looping over input arguments to locate one or more WebCAT videos and split them into a desired number of frames which are then saved locally. Here’s an example looping over several videos from the Buxton coastal camera on 13th Nov 2019 at different times (a 10 second interval is specified for saving the frames and verbosity is turned on):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pywebcat -dir /Users/tbeuzen/Downloads -s buxtoncoastalcam -y <span class="m">2019</span> -m <span class="m">11</span> -d <span class="m">13</span> -t <span class="m">1000</span> <span class="m">1210</span> <span class="m">1530</span> -i <span class="m">100</span> -v
<span class="go">Saving frames of buxtoncoastalcam_2019_11_13_1000...</span>
<span class="go">100%|██████████████████████████████████████████████| 62/62 [00:14&lt;00:00,  4.22it/s]</span>
<span class="go">Saving frames of buxtoncoastalcam_2019_11_13_1210...</span>
<span class="go">100%|██████████████████████████████████████████████| 62/62 [00:13&lt;00:00,  4.51it/s]</span>
<span class="go">Saving frames of buxtoncoastalcam_2019_11_13_1530...</span>
<span class="go">100%|██████████████████████████████████████████████| 62/62 [00:14&lt;00:00,  4.38it/s]</span>
</pre></div>
</div>
<p>The resultant directory structure looks like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Users/tbeuzen/Downloads</span>
<span class="go">                └── buxtoncoastalcam</span>
<span class="go">                    ├── buxtoncoastalcam_2019_11_13_1000</span>
<span class="go">                    │   ├── buxtoncoastalcam_2019_11_13_1000.csv</span>
<span class="go">                    │   └── jpg</span>
<span class="go">                    │       ├── frame_0.jpg</span>
<span class="go">                    │       ├── frame_280.jpg</span>
<span class="go">                    │       ├── ...</span>
<span class="go">                    ├── buxtoncoastalcam_2019_11_13_1210</span>
<span class="go">                    │   ├── ...</span>
<span class="go">                    └── buxtoncoastalcam_2019_11_13_1530</span>
<span class="go">                        ├── ...</span>
</pre></div>
</div>
<p>The outputted .csv file contains metadata for the saved frames:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>url</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>frame</p></th>
<th class="head"><p>path</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="http://webcat-video.axds.co/buxtoncoastalcam/raw/2019/2019_11/2019_11_13/buxtoncoastalcam.2019-11-13_1000.mp4">http://webcat-video.axds.co/buxtoncoastalcam/raw/2019/2019_11/2019_11_13/buxtoncoastalcam.2019-11-13_1000.mp4</a></p></td>
<td><p>buxtoncoastalcam_2019_11_13_1000</p></td>
<td><p>0</p></td>
<td><p>/Users/tbeuzen/Downloads/buxtoncoastalcam/buxtoncoastalcam_2019_11_13_1000/jpg/frame_0.jpg</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="http://webcat-video.axds.co/buxtoncoastalcam/raw/2019/2019_11/2019_11_13/buxtoncoastalcam.2019-11-13_1000.mp4">http://webcat-video.axds.co/buxtoncoastalcam/raw/2019/2019_11/2019_11_13/buxtoncoastalcam.2019-11-13_1000.mp4</a></p></td>
<td><p>buxtoncoastalcam_2019_11_13_1000</p></td>
<td><p>280</p></td>
<td><p>/Users/tbeuzen/Downloads/buxtoncoastalcam/buxtoncoastalcam_2019_11_13_1000/jpg/frame_280.jpg</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module">
<h2>Module<a class="headerlink" href="#module" title="Permalink to this headline">¶</a></h2>
<p>The pywebcat utilities can also be imported through the <cite>pywebcat.utils</cite> for use in other libraries or workflows. See the [demo Jupyter notebook](notebooks/pywebcat_demo.ipynb) for a worked example.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pywebcat.utils</span> <span class="kn">import</span> <span class="n">WebCAT</span>
<span class="n">wc</span> <span class="o">=</span> <span class="n">WebCAT</span><span class="p">()</span>
<span class="n">wc</span><span class="o">.</span><span class="n">generate_url</span><span class="p">(</span><span class="s2">&quot;buxtoncoastalcam&quot;</span><span class="p">,</span> <span class="mi">2019</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># create the video url</span>

<span class="c1"># attributes</span>
<span class="n">wc</span><span class="o">.</span><span class="n">url</span>     <span class="c1"># the created url</span>
<span class="n">wc</span><span class="o">.</span><span class="n">name</span>    <span class="c1"># unique name for the video object</span>
<span class="n">wc</span><span class="o">.</span><span class="n">width</span>   <span class="c1"># frame width in pixels</span>
<span class="n">wc</span><span class="o">.</span><span class="n">height</span>  <span class="c1"># frame height in pixels</span>
<span class="n">wc</span><span class="o">.</span><span class="n">frames</span>  <span class="c1"># total frames in video</span>
<span class="n">wc</span><span class="o">.</span><span class="n">fps</span>     <span class="c1"># frames per second</span>

<span class="c1"># methods</span>
<span class="n">wc</span><span class="o">.</span><span class="n">download_url</span><span class="p">()</span>        <span class="c1"># download the video at the url</span>
<span class="n">wc</span><span class="o">.</span><span class="n">save_frames</span><span class="p">()</span>         <span class="c1"># save video frames as .jpg</span>
<span class="n">wc</span><span class="o">.</span><span class="n">plot_frames</span><span class="p">()</span>         <span class="c1"># plot select video frames</span>
<span class="n">wc</span><span class="o">.</span><span class="n">plot_average_frame</span><span class="p">()</span>  <span class="c1"># plot time-averaged frame</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Tomas Beuzen

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>